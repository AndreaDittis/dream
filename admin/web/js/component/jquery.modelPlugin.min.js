!function(a){a.extend({defaults:{common:{time:2e3,fadeInTime:400,fadeOutTime:400,delayTime:0,timingClosure:!1,shade:!0,shadeClose:!1,title:"提示信息",confirmBtn:!0,confirmBtnText:"确定",cancelBtnText:"取消",ok:null,cancel:null,okDefaultFn:null,cancelDefaultFn:null,area:["",""]},alert:{cancelBtn:!1}},alert:function(b,c){function d(){a(".layer_wrap").fadeOut(k),a("html").css("overflow","auto"),setTimeout(function(){a(".layer_wrap").remove()},k+l)}function e(){s?setTimeout(function(){s()},k+l):u&&setTimeout(function(){u()},k+l)}function f(){t?setTimeout(function(){t()},k+l):v&&setTimeout(function(){v()},k+l)}var b,c,g=arguments.length;switch(g){case 0:b="";break;case 1:"object"==typeof arguments[0]&&(c=arguments[0],b="");break;case 2:for(var h in arguments)"string"==typeof arguments[h]?b=arguments[h]:"object"==typeof arguments[h]&&(c=arguments[h]);break;default:b="",c=null}var i=a.extend({},a.defaults.common,a.defaults.alert,c),j=(i.time,i.fadeInTime),k=i.fadeOutTime,l=i.delayTime,m=("false"!=i.timingClosure&&0!=i.timingClosure,"false"!=i.shade&&0!=i.shade,"false"!=i.shadeClose&&0!=i.shadeClose),n=i.title,o="false"!=i.confirmBtn&&0!=i.confirmBtn,p=i.confirmBtnText,q="false"!=i.cancelBtn&&0!=i.cancelBtn,r=i.cancelBtnText,s=i.ok,t=i.cancel,u=i.okDefaultFn,v=i.cancelDefaultFn,w="",x={a:'<div class="layer_wrap">',b:'<div class="layer_shade"></div>',c:'<div class="layer_inner">',d:'<span class="layer_close">&times;</span>',e:'<div class="layer_title">'+n+"</div>",f:'<div class="layer_body">',g:'<div class="layer_content">'+b+"</div>",h:'<div class="layer_btns">',i:'<button class="layer_btn layer_confirm_btn">'+p+"</button>",j:'<button class="layer_btn layer_cancel_btn">'+r+"</button>",ge:"</div>",ee:"</div>",be:"</div>",ae:"</div>"};w+=x.a,w+=x.b,w+=x.c,w+=x.d,n&&"false"!==n&&(w+=x.e),w+=x.f,w+=x.g,w+=x.h,o&&(w+=x.i),q&&(w+=x.j),w+=x.ge,w+=x.ee,w+=x.be,w+=x.ae,a("body").append(w),a(".layer_wrap").fadeIn(j);var y=-a(".layer_wrap").height()/2;a(".layer_wrap").css({"margin-top":y}),a("html").css("overflow","hidden"),a(".layer_close").click(function(){d(),f()}),m&&a(".layer_shade").click(function(){d(),f()}),a(".layer_confirm_btn").click(function(){d(),e()}),a(".layer_cancel_btn").click(function(){d(),f()})},confirm:function(b,c){function d(){a(".layer_wrap").fadeOut(k),a("html").css("overflow","auto"),setTimeout(function(){a(".layer_wrap").remove()},k+l)}function e(){s?setTimeout(function(){w?s(w):s()},k+l):u&&setTimeout(function(){u()},k+l)}function f(){t?setTimeout(function(){t()},k+l):v&&setTimeout(function(){v()},k+l)}var b,c,g=arguments.length;switch(g){case 0:b="";break;case 1:"object"==typeof arguments[0]&&(c=arguments[0],b="");break;case 2:for(var h in arguments)"string"==typeof arguments[h]?b=arguments[h]:"object"==typeof arguments[h]&&(c=arguments[h]);break;default:b="",c=null}var i=a.extend({},a.defaults.common,a.defaults.confirm,c),j=(i.time,i.fadeInTime),k=i.fadeOutTime,l=i.delayTime,m=("false"!=i.timingClosure&&0!=i.timingClosure,"false"!=i.shade&&0!=i.shade,"false"!=i.shadeClose&&0!=i.shadeClose),n=i.title,o="false"!=i.confirmBtn&&0!=i.confirmBtn,p=i.confirmBtnText,q="false"!=i.cancelBtn&&0!=i.cancelBtn,r=i.cancelBtnText,s=i.ok,t=i.cancel,u=i.okDefaultFn,v=i.cancelDefaultFn,w=i.params,x="",y={a:'<div class="layer_wrap">',b:'<div class="layer_shade"></div>',c:'<div class="layer_inner">',d:'<span class="layer_close">&times;</span>',e:'<div class="layer_title">'+n+"</div>",f:'<div class="layer_body">',g:'<div class="layer_content">'+b+"</div>",h:'<div class="layer_btns">',i:'<button class="layer_btn layer_confirm_btn">'+p+"</button>",j:'<button class="layer_btn layer_cancel_btn">'+r+"</button>",ge:"</div>",ee:"</div>",be:"</div>",ae:"</div>"};x+=y.a,x+=y.b,x+=y.c,x+=y.d,n&&"false"!==n&&(x+=y.e),x+=y.f,x+=y.g,x+=y.h,o&&(x+=y.i),q&&(x+=y.j),x+=y.ge,x+=y.ee,x+=y.be,x+=y.ae,a("body").append(x),a(".layer_wrap").fadeIn(j);var z=-a(".layer_wrap").height()/2;a(".layer_wrap").css({"margin-top":z}),a("html").css("overflow","hidden"),a(".layer_close").click(function(){d(),f()}),m&&a(".layer_shade").click(function(){d(),f()}),a(".layer_confirm_btn").click(function(){d(),e()}),a(".layer_cancel_btn").click(function(){d(),f()})},lay:{open:function(b){var b,c=a.extend({},a.defaults.common,a.defaults.alert,b),d=(c.time,c.fadeInTime),e=(c.fadeOutTime,c.delayTime,"false"!=c.timingClosure&&0!=c.timingClosure,"false"!=c.shade&&0!=c.shade,"false"!=c.shadeClose&&0!=c.shadeClose),f=(c.title,c.content),g=c.area,h=a(window).width(),i=a(window).height(),j=g[0],k=g[1];parseInt(j)>h-70&&(j=h-70+"px"),parseInt(k)>i-70&&(k=i-70+"px");var l='<div class="layer_wrap_2 lay"><div class="layer_shade"></div></div>';a("body").find(".layer_wrap_2").length||a("body").append(l),a(".layer_wrap_2").fadeIn(d),f.addClass("lay-active-inner").wrap('<div class="lay_wrap lay-active"></div>').fadeIn(d),j&&f.css({width:j}),k&&f.css({height:k}),a(".lay-active").width()>h-50&&a(".lay-active-inner").width(h-50),a(".lay-active").height()>i-50&&a(".lay-active-inner").height(i-50);var m=-a(".lay-active").height()/2,n=-a(".lay-active").width()/2;a(".lay-active").css({"margin-top":m,"margin-left":n}),a(".lay-active").append('<i class="layer_close">&times;</i>'),a(".lay-active-inner").css("max-height",i-50),a(".layer_close").click(function(){a.lay.close()}),e&&a(".layer_shade").click(a.lay.close),a("html").css("overflow","hidden")},close:function(){a(".lay-active").hide(),a(".lay-active-inner").unwrap().removeClass("lay-active-inner").hide(),a(".layer_close").remove(),a(".layer_wrap_2").hide(),a("html").css("overflow","auto")}}}),a.fn.extend({tip:function(b){var c=a(this);c.focus();var d='<div class="tip-wrap error">'+b+"</div>";c.next("div").hasClass("tip-wrap")?c.next("div").show():c.after(d);var e=c.next(".tip-wrap"),f=c.offset().left,g=c.offset().top;e.offset({top:g+c.outerHeight()+8,left:f})},hideTip:function(){var b=a(this);b.next("div").hasClass("tip-wrap")&&b.next(".tip-wrap").hide()}})}(jQuery);